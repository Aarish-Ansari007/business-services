{
  "_comment": "Starts Common Charts, applied across module",
  "totalApplication": {
    "chartName": "Total Application",
    "queries": [
      {
        "module": "PT",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "dateRefField": "Data.@timestamp"
      },
      {
        "module": "TL",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantid.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantid\" \r\n}",
        "dateRefField": "Data.tradelicense.applicationdate"
      },
      {
        "module": "PGR",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "dateRefField": "Data.dateOfComplaint"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Total Application"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "closedApplication": {
    "chartName": "Closed Application",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}}}}}"
      },
      {
        "module": "PGR",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Closed Application"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "citizenRegistered": {
    "chartName": "Citizen Registered",
    "queries": [
      {
        "module": "PGR",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Citizen Registered\":{\"terms\":{\"field\":\"Data.citizen.uuid.keyword\"},\"aggs\":{\"type_count\":{\"cardinality\":{\"field\":\"Data.citizen.uuid.keyword\"}}}}}}",
        "requestQueryMap": "{\"district\" : \"Data.tenantData.city.districtCode\", \"tenantId\" : \"Data.tenantId\", \"status\" : \"Data.status\"}",
        "dateRefField": "Data.dateOfComplaint"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Citizen Registered"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "totalApplicationDeptWise": {
    "chartName": "Total Application: Department Wise",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Property Tax\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Trade Licence\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantid.keyword\"}}}}"
      },
      {
        "module": "PGR",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"PGR\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Property Tax",
      "Trade Licence",
      "PGR"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "totalApplication&ClosedApplication": {
    "chartName": "Total Application & Closed Application",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"week\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"week\"},\"aggs\":{\"Applications Closed\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}}}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}}}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.applicationDate\",\"interval\":\"week\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.@timestamp\",\"interval\":\"week\"},\"aggs\":{\"Applications Closed\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}}}"
      },
      {
        "module": "PGR",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"week\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"week\"},\"aggs\":{\"Applications Closed\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}}}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Total Application",
      "Closed Application"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "cumulativeCollection": {
    "chartName": "Total Cumulative Collection Weekly",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"domainObject.tenantId\"}",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"2019\":{\"date_histogram\":{\"field\":\"dataObject.Bill.billDetails.receiptDate\",\"interval\":\"week\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "line",
    "valueType": "amount",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "2019"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "targetCollection": {
    "chartName": "Target Collection",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
        "dateRefField": "Timestamp",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "Amount",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Target Collection"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "targetAchieved": {
    "chartName": "Target Achieved",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
        "dateRefField": "Timestamp",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Actual collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"domainObject.tenantId\"}",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}"
      }

    ],
    "chartType": "metric",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": [
      "Total Collection",
      "Actual collection"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "totalCollection": {
    "chartName": "Total Collection",
    "queries": [
      {
        "module": "COMMON",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate"
      }
    ],
    "chartType": "metric",
    "valueType": "Amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Collection"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "totalCollectionDeptWise": {
    "chartName": "Total Collection Department Wise",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Deptment\":{\"terms\":{\"field\":\"dataObject.Bill.billDetails.businessService.keyword\"},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "Amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Deptment"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "topPerformingUlbs": {
    "chartName": "Top 3 Performing ULBs",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
        "dateRefField": "Timestamp",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}},\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"domainObject.tenantId\"}",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}},\"Target Collection\":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "Target Achieved",
    "order": "desc",
    "limit": 3,
    "aggregationPaths": [
      "Total Collection","Target Collection"
    ],
    "insight": {
    },
    "_comment": " Top Performing Ulbs for target achieved"
  },
  "bottomPerformingUlbs": {
    "chartName": "Bottom 3 Performing ULBs",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\" }",
        "dateRefField": "Timestamp",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}},\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"domainObject.tenantId\" }",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}},\"Target Collection\":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "Target Achieved",
    "order": "asc",
    "limit": 3,
    "aggregationPaths": [
      "Total Collection", "Target Collection"
    ],
    "insight": {
    },
    "_comment": " Bottom Performing Ulbs for target achieved"
  },
  "topPerformingUlbsCompletionRate": {
    "chartName": "Top 3 Performing ULBs",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" , \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"term\":{\"Data.status.keyword\":\"resolved\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      },
      {
        "module": "PT",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"term\":{\"Data.status.keyword\":\"resolved\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "Completion Rate",
    "order": "desc",
    "limit": 3,
    "aggregationPaths": [
      "Closed Application",
      "Total Application"
    ],
    "insight": {
    },
    "_comment": " Top Performing Ulbs for Completion rate"
  },
  "bottomPerformingUlbsCompletionRate": {
    "chartName": "Bottom 3 Performing ULBs",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" , \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"term\":{\"Data.status.keyword\":\"resolved\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      },
      {
        "module": "PT",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"term\":{\"Data.status.keyword\":\"resolved\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "Completion Rate",
    "order": "asc",
    "limit": 3,
    "aggregationPaths": [
      "Closed Application",
      "Total Application"
    ],
    "insight": {
    },
    "_comment": " Bottom Performing Ulbs for Completion rate"
  },
  "_comment": "Starts PT specific Charts",
  "collectionByUsageType": {
    "chartName": "Collection by Usage Type",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\"},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "amount",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Usage Type"
    ],
    "insight": {
    },
    "_comment": " collection/amount per usage type"
  },
  "propertiesByUsageType": {
    "chartName": "Properties by Usage Type",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\"},\"aggs\":{\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Usage Type"
    ],
    "insight": {
    },
    "_comment": " properties having assessmentNumber per usage type"
  },
  "propertiesAssessed": {
    "chartName": "Total Properties Accessed",
    "queries": [
      {
        "module": "PT",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Assessed Properties\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Assessed Properties"
    ],
    "insight": {
    },
    "_comment": " totol properties having assessmentNumber "
  },
  "cumulativePropertiesAssessed": {
    "chartName": "Total Cumulative Properties Accessed Weekly",
    "queries": [
      {
        "module": "PT",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"2019\":{\"date_histogram\":{\"field\":\"Data.propertyDetails.assessmentDate\",\"interval\":\"week\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "2019"
    ],
    "insight": {
    },
    "_comment": " totol properties having assessmentNumber "
  },
  "activeUlbs": {
    "chartName": "Total Active ULBs",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Active ULBs\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\"},\"aggs\":{\"type_count\":{\"cardinality\":{\"field\":\"dataObject.tenantId.keyword\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Active ULBs"
    ],
    "insight": {
    },
    "_comment": " total ULBs count"
  },
  "demandCollectionIndexBoundaryRevenue": {
    "chartName": "Demand & Collection Index Boundary",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\"},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
        "dateRefField": "Timestamp",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\"},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      }
    ],
    "filterKeys": [
      "tenantId"
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "boundaryDrillDown",
    "drillFields": [
      "Ward",
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Boundary",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "boundaryDrillDown": {
    "kind": "drillDown",
    "chartName": "Demand & Collection Index Boundary",
    "queries": [
      {
        "fieldMapping": [
          {
            "Ward": "domainObject.ward.children.code.keyword"
          }
        ],
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.children.code.keyword\"},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Ward",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "demandCollectionIndexUsageRevenue": {
    "chartName": "Demand & Collection Index Usage Type",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.@timestamp",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\"},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "filterKeys": [
      "tenantId"
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "",
    "drillFields": [
      "Ward",
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Usage Type",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "_comment": "Starts TL specific Charts",
  "licenseIssued": {
    "chartName": "Total Trade License Issued",
    "queries": [
      {
        "module": "TL",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\": {\"License Issued\": {\"value_count\": {\"field\": \"Data.tradelicense.licensenumber.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantid\" \r\n, \r\n\"businessService\" : \"dataObject.Bill.billDetails.businessServices\" \r\n}",
        "dateRefField": "Data.tradelicense.applicationdate"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "License Issued"
    ],
    "insight": {
    },
    "_comment": " licenseIssued is the Chart ID"
  }
}